<div class="min-h-screen bg-base-200" data-theme="synthwave">

  <!-- NAVBAR -->
  <div class="navbar bg-base-300 shadow-lg sticky top-0 z-50 border-b border-base-content/10">
    <div class="flex-1">
      <a class="btn btn-ghost normal-case text-2xl font-bold tracking-wide">
        ‚ö° Pok√©mon Explorer
      </a>
    </div>

    <div class="flex-none">
      <div class="badge badge-primary gap-2 p-4 text-lg font-bold" *ngIf="pokemonData()">
        üéØ {{ pokemonData()!.count }} Pok√©mon
      </div>
    </div>
  </div>

  <!-- HERO -->
  <div class="w-full bg-gradient-to-r from-yellow-400 to-orange-500 text-center py-16 shadow-xl">
    <h1 class="text-5xl font-extrabold mb-4 text-white drop-shadow-lg">Pok√©dex Nacional</h1>
    <p class="text-lg text-white/90 max-w-2xl mx-auto">
      Explora todos los Pok√©mon disponibles, sus caracter√≠sticas, tipos y habilidades.
    </p>

    <!-- HERO STATS -->
    <div class="mt-10 flex flex-col md:flex-row justify-center gap-6 px-6" *ngIf="pokemonData()">

      <div class="stat bg-white/90 backdrop-blur-xl shadow-xl rounded-xl p-6 w-full md:w-64">
        <div class="stat-title">Pok√©mon Totales</div>
        <div class="stat-value text-primary">{{ pokemonData()!.count }}</div>
        <div class="stat-desc flex items-center gap-2"><span class="text-xl">üéØ</span> En toda la Pok√©dex</div>
      </div>

      <div class="stat bg-white/90 backdrop-blur-xl shadow-xl rounded-xl p-6 w-full md:w-64">
        <div class="stat-title">P√°gina Actual</div>
        <div class="stat-value text-secondary">{{ currentPage() }}</div>
        <div class="stat-desc flex items-center gap-2"><span class="text-xl">üìÑ</span> 20 por p√°gina</div>
      </div>

      <div class="stat bg-white/90 backdrop-blur-xl shadow-xl rounded-xl p-6 w-full md:w-64">
        <div class="stat-title">Total P√°ginas</div>
        <div class="stat-value text-pink-600">
          {{ (pokemonData()!.count / 20) | number:'1.0-0' }}
        </div>
        <div class="stat-desc flex items-center gap-2"><span class="text-xl">‚≠ê</span> Expl√≥ralas todas</div>
      </div>

    </div>
  </div>

  <!-- MAIN CONTENT -->
  <div class="container mx-auto px-6 py-10">

    <!-- LOADING -->
    <div class="flex flex-col items-center justify-center py-20 gap-4" *ngIf="isLoading()">
      <span class="loading loading-spinner loading-lg text-primary"></span>
      <p class="text-lg font-semibold">Cargando Pok√©mon...</p>
    </div>

    <!-- ERROR -->
    <div class="alert alert-error shadow-lg mb-6" *ngIf="error()">
      <div>
        <h3 class="font-bold">Error al cargar</h3>
        <p class="text-sm">{{ error() }}</p>
      </div>
    </div>

    <!-- LISTA -->
    <div *ngIf="pokemonData()?.results">

      <h2 class="text-3xl font-bold mb-6 flex items-center gap-3">
        <span class="badge badge-primary badge-lg">P√°gina {{ currentPage() }}</span>
        Lista de Pok√©mon
      </h2>

      <!-- GRID -->
      <div class="grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
        <div
          class="card bg-base-100 shadow-xl hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 cursor-pointer"
          *ngFor="let pokemon of pokemonData()!.results"
          (click)="viewPokemonDetail(pokemon)"
        >

          <figure class="p-6">
            <img
              class="w-28 h-28 object-contain transition-transform duration-300"
              [src]="'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/' + extractPokemonId(pokemon.url) + '.png'"
              alt="{{ pokemon.name }}"
            />
          </figure>

          <div class="card-body text-center">
            <h3 class="capitalize text-xl font-bold">{{ pokemon.name }}</h3>

            <div class="badge badge-outline mt-2">
              #{{ extractPokemonId(pokemon.url) }}
            </div>

            <button class="btn btn-primary btn-sm mt-4">
              Ver detalles ‚Üí
            </button>
          </div>

        </div>
      </div>

      <!-- PAGINATION -->
      <div class="flex justify-center items-center gap-4 mt-10">
        <button class="btn btn-outline" [disabled]="!canGoPrevious()" (click)="previousPage()">
          ‚Üê Anterior
        </button>

        <div class="badge badge-primary p-4 text-lg">
          P√°gina {{ currentPage() }}
        </div>

        <button class="btn btn-primary" [disabled]="!canGoNext()" (click)="nextPage()">
          Siguiente ‚Üí
        </button>
      </div>

    </div>
  </div>
</div>
